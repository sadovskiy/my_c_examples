/*
 *
 * Copyright (C) 2020. GPL
 *
 * Written by Sadovskiy B. S.
 *
 *
 * –ü—Ä–∞–≤–∞ –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º—É (–°) 2020. GPL
 *
 * –ù–∞–ø–∏—Å–∞–Ω–∞ –°–∞–¥–æ–≤—Å–∫–∏–º –ë. –°.
 *
 * –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —à–∏—Ä–æ–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ wchar_t
 * 
 * –ü–æ–¥—Ä–æ–±–Ω–µ–µ:
 * https://ru.wikipedia.org/wiki/–®–∏—Ä–æ–∫–∏–π_—Å–∏–º–≤–æ–ª
 * https://ru.wikipedia.org/wiki/Locale.h
 * https://ru.wikipedia.org/wiki/–°–∏–º–≤–æ–ª—å–Ω—ã–π_—Ç–∏–ø
 * https://ru.wikipedia.org/wiki/Printf
 * 
 * 
 */

#include <stdlib.h>
#include <wchar.h>
#include <locale.h>

// –î–ª—è MS Windows
#ifdef __WINNT__
#include <fcntl.h>
#include <io.h>
#endif

int main(void)
{
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ª–æ–∫–∞–ª—å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ "—è–∑—ã–∫_–°–¢–†–ê–ù–ê.–ö–æ–¥–∏—Ä–æ–≤–∫–∞"
    // –î–ª—è GNU/Linux
    #ifdef __linux__
    setlocale(LC_ALL, "ru_RU.UTF-8");// –í MS Windows –æ–±—ã—á–Ω–æ –ø–∏—à–µ—Ç—Å—è "rus"
    #endif
    
    // –î–ª—è MS Windows
    #ifdef __WINNT__ // –î–ª—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ MSVC –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–∫—Ä–æ—Å _WIN64
    setlocale(LC_ALL, "rus");// –∏–ª–∏ "Russian"
    #endif
    // –ü–æ–¥—Ä–æ–±–Ω–µ–µ:
    // https://ru.wikipedia.org/wiki/–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ_–Ω–∞—Å—Ç—Ä–æ–π–∫–∏_(–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ)
    // https://ru.wikipedia.org/wiki/–Æ–Ω–∏–∫–æ–¥
    // https://ru.wikipedia.org/wiki/UTF-8
    // https://habr.com/ru/post/138173


    // –°–æ–∑–¥–∞—ë–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é "–®–∏—Ä–æ–∫–∏–π —Å–∏–º–≤–æ–ª"(wch), —É –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–∑–º–µ—Ä
    // –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–π, –Ω–æ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–∏—Å—Ç–µ–º —ç—Ç–æ 4 –±–∞–π—Ç–∞ (32 –±–∏—Ç–∞).
    // –ö–∞–∫–æ–π —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä –≤ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å
    // —Å –ø–æ–º–æ—â—å—é sizeof()
    wchar_t wch = 0;

    // –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é "–í–≤–µ–¥–∏—Ç–µ —Å–∏–º–≤–æ–ª",
    // –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω –≤ –Ω–∞—à—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.
    wprintf(L"Input character (–í–≤–µ–¥–∏—Ç–µ —Å–∏–º–≤–æ–ª): ");

    // –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Ä–∞–∑–º–µ—Ä–∞
    // –¢—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ø–µ—Ä–µ–¥ —Å—Ç—Ä–æ–∫–æ–π –ø—Ä–µ—Ñ–∏–∫—Å L (—Ç–∏–ø int64), —Ç–∞–∫ –∫–∞–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    // —Å—Ç—Ä–æ–∫–∞ –Ω–∞ –°–∏ –≤ –∫–æ–¥–µ –±—É–¥–µ—Ç –º–∞—Å—Å–∏–≤–æ–º —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö char,
    // –Ω–æ —Ñ—É–Ω–∫—Ü–∏–∏ wscanf() –∏ wprintf() –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∏–ø–æ–º wchar_t

    // –ï—Å—Ç—å –µ—â—ë –ø—Ä–µ—Ñ–∏–∫—Å U. –ù—É–∂–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∏–ø–æ–º char32_t,
    // –Ω–æ –Ω–µ –Ω–∞ –≤—Å–µ—Ö –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç

    // –ö–æ—Ä–æ—Ç–∫–æ –ø–æ —Ç–∏–ø–∞–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Å–∏–º–≤–æ–ª–∞ b (–ª–∞—Ç–∏–Ω–∏—Ü–∞) –∏ –± (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞)
    // –û–¥–∏–Ω–æ—á–Ω—ã–π —Å–∏–º–≤–æ–ª. –í —Å–∫–æ–±–∫–∞—Ö –∫–æ–¥ –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Ñ–æ—Ä–º–µ.
    //  'b' (62)      '–±' (–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)   —Ç–∏–ø: char    (1 –±–∞–π—Ç)
    // L'b' (00 62)  L'–±' (04 31)           —Ç–∏–ø: wchar_t (2 –±–∞–π—Ç–∞)

    // –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, wchar_t –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–ª 2 –±–∞–π—Ç–∞ –∏–∑ 4.
    // –û—Å—Ç–∞–ª—å–Ω—ã–µ –±–∞–π—Ç—ã –∑–∞–±–∏–≤–∞—é—Ç—Å—è 0. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ —Ç–æ–º—É,
    // —á—Ç–æ –∫–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8 –Ω–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π, –∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª–∏–Ω–Ω—ã.
    // –í –Ω–µ–π –ø–µ—Ä–≤—ã–π –±–∞–π—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç –æ—Ç–≤–µ–¥–µ–Ω–æ
    // —Å–ª–µ–¥—É—é—â–∏—Ö –±–∞–π—Ç –Ω–∞ –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª

    // –ú–∞—Å—Å–∏–≤ —Å–∏–º–≤–æ–ª–æ–≤ (—Å—Ç—Ä–æ–∫–∞). –î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å
    // –∏–∑ –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ {'b', '\0'} –∏–ª–∏ –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Ñ–æ—Ä–º–µ {62, 0}
    //  "b"   —Ç–∏–ø: char[2]
    // L"b"   —Ç–∏–ø: wchar_t[2]
    // U"b"   —Ç–∏–ø: char32_t[2]

    // –ó–∞–ø–∏—Å—å —Å–∏–º–≤–æ–ª–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é "wch"

// –î–ª—è MS Windows
#ifdef _WIN64
     _setmode(_fileno(stdin), _O_U16TEXT);
#endif

    wscanf(L"%Lc", &wch); // –∏–ª–∏ wch = fgetwc(stdin);

    // –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è —à–∏—Ä–æ–∫–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –≤ –≤—ã–∑–æ–≤ wscanf() —Ç–∞–∫–∂–µ –Ω–∞–¥–æ
    // –¥–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ L. L - long double

    // –ü–æ–∫–∞–∂–µ–º –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª
    wprintf(L"Character: %Lc\n", wch);

    // –ü–æ–∫–∞–∂–µ–º –¥–µ—Å—è—Ç–∏—á–Ω—ã–π –∫–æ–¥
    // wprintf(L"Code dec: %d \n",  ch);
    // –ù–æ —ç—Ç–æ –ø–ª–æ—Ö–æ–π –≤–∞—Ä–∏–∞–Ω—Ç. –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
    // –ù–∞–¥–æ –ø–∏—Å–∞—Ç—å —Ç–∞–∫ (—Å –ø—Ä–∏–≤–∏–¥–µ–Ω–∏–µ–º —Ç–∏–ø–∞)
    wprintf(L"Code dec: %d\n",  (int)wch);

    // –í—ã–≤–µ–¥–µ–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É 0x0431 (—Å–∏–º–≤–æ–ª '–±')
    wprintf(L"Const character: %Lc\n", (char)0x0052);

    // –î–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏ —Ä–∞–∑–ª–æ–∂–∏–º —Ç–∏–ø wchar_t –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –±–∞–π—Ç—ã
    unsigned char byte1 = 0; // –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ –∫–æ–¥–∞ —Å–∏–º–≤–æ–ª–∞ –≤ UTF-8
    unsigned char byte2 = 0; // –í—Ç–æ—Ä–æ–π
    unsigned char byte3 = 0; // –¢—Ä–µ—Ç–µ–π
    unsigned char byte4 = 0; // –ß–µ—Ç–≤—ë—Ä—Ç–æ–π

    // –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ UTF-8 –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Å–∏–º–≤–æ–ª–∞ ' ' (–ø—Ä–æ–±–µ–ª)
    //              00010100 - 20 -  30 (8 –±–∏—Ç) - –∏—Å—Ö–æ–¥–Ω—ã–π —Å–∏–º–≤–æ–ª
    // –°–∏–º–≤–æ–ª –∏–º–µ–µ—Ç —Ä–∞–∑–º–µ—Ä —É–∫–ª–∞–¥—ã–≤–∞—é—â–∏–π—Å—è –≤ 7 –±–∏—Ç. –ü–µ—Ä–≤—ã–π (–ø–æ –ø–æ—Ä—è–¥–∫—É)
    // –±–∏—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∞ –≤—ã—Å—Ç—É–ø–∞–µ—Ç –∫–∞–∫ –ø—Ä–∏–∑–Ω–∞–∫ —Ç–æ–≥–æ,
    // —á—Ç–æ —Å–∏–º–≤–æ–ª —É–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –æ–¥–∏–Ω –±–∞–π—Ç
    // –∏ –º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏—Å—å –ø–µ—Ä–≤–æ–π –ø–æ–ª–æ–≤–∏–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã ASCII.
    // –ï—Å–ª–∏ –æ–Ω –∑–∞–Ω—è—Ç, —Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –Ω–∞–¥–æ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥–≤—É—Ö–±–∞–π—Ç–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
    // –∏ —Ä–∞—Å–∫–æ–¥–∏—Ä–æ–≤–∫–∞ –±—É–¥–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –∫–∞–∫ –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ
    // —Å –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–æ–π –±—É–∫–≤–æ–π '–∞'

    // –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –±–∞–π—Ç—ã –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –∏—Å—á–∏—Å–ª–µ–Ω–∏—è
    //       bin    - dec - Hex
    //    1110 0000 - 224 - E0
    //    1100 0000 - 192 - C0
    //    1000 0000 - 128 - 80
    //    0111 1111 - 127 - 7F
    //    0100 0000 -  64 - 40
    //    0011 1111 -  63 - 3F


    // –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ UTF-8 –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Å–∏–º–≤–æ–ª–∞ '–∞' (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞) (11 –±–∏—Ç)
    //    1-—ã–π –±–∞–π—Ç 2-–æ–π –±–∞–π—Ç
    //         100  00110000 -  1072 -  4 30   (4) (48) - 1)
    //    110       10       ---------------------------- 2)
    //    110       10110000 ---------------------------- 3)
    //    11010000  10110000 ---------------------------- 4)
    //    11010000  10110000 - 53424 - D0 B0 (208)(176) - 5)
    // –í UTF-16 –≤–∏–¥–Ω–æ, —á—Ç–æ —Å–∏–º–≤–æ–ª –∑–∞–Ω–∏–º–∞–µ—Ç —è–≤–Ω–æ –±–æ–ª—å—à–µ 8 –±–∏—Ç
    // 1) –±–µ—Ä—ë–º –±–∏—Ç—ã –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
    // 2) —Å–æ–∑–¥–∞—ë–º –±–∏—Ç–æ–≤—É—é –º–∞—Å–∫—É UTF-8
    // 3) –∏–∑ –≤—Ç–æ—Ä–æ–≥–æ –±–∞–π—Ç–∞ –±–µ—Ä—ë–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ —à–µ—Å—Ç—å –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ä–∞–∑—Ä—è–¥–æ–≤
    //    –∏ –¥–æ–±–∞–≤–ª—è–µ–º –≤ –ø–æ –º–∞—Å–∫–µ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —à–µ—Å—Ç—å —Ä–∞–∑—Ä—è–¥–æ–≤
    //    –≤—Ç–æ—Ä–æ–≥–æ –±–∞–π—Ç–∞ –∫–æ–¥–∏—Ä—É–µ–º–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
    // 4) –æ—Å—Ç–∞—ë—Ç—Å—è —à–µ—Å—Ç—å –Ω–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ä–∞–∑—Ä—è–¥–æ–≤ (100000).
    //    –ü–µ—Ä–≤—ã–µ —Ç—Ä–∏ (100) –≤ –ø–µ—Ä–≤–æ–º –±–∞–π—Ç–µ –∏ –¥–≤–∞ (00) –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è
    //    –≤ –Ω–∞—á–∞–ª–µ –≤—Ç–æ—Ä–æ–≥–æ. –°–¥–≤–∏–≥–∞–µ–º –∏—Ö –Ω–∞ —à–µ—Å—Ç—å —Ä–∞–∑—Ä—è–¥–æ–≤ –≤–ø—Ä–∞–≤–æ
    //    –∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ä–∞–∑—Ä—è–¥—ã –ø–∏—à–µ–º –≤ –ø–µ—Ä–≤—ã–π –±–∞–π—Ç
    // 5) –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –º–µ—Å—Ç–∞ –∑–∞–ø–æ–ª–Ω—è–µ–º –Ω—É–ª—è–º–∏ –∏ –ø–æ–ª—É—á–∞–µ–º –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

    // –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ UTF-8 –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Å–∏–º–≤–æ–ª–∞ '‚Ç¨' (–∑–Ω–∞–∫ –µ–≤—Ä–æ) (14 –±–∏—Ç)
    //    1-—ã–π –±–∞–π—Ç 2-–æ–π –±–∞–π—Ç 3-–∏–π –±–∞–π—Ç
    //                100000  10101100 -     8364 -    20 AC        (32) (172)
    //    1110      10        10       - –º–∞—Å–∫–∞ UTF-8
    //    1110      10        10101100 - 1)
    //    1110      10000010  10101100 - 2)
    //    1110  10  10000010  10101100 - 3)
    //    11100010  10000010  10101100 - 14844588 - E2 82 AC (226) (130) (172)
    // –¢–∞–∫ –∫–∞–∫ —á–∞—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –≤–æ–∑—å–º—ë–º —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–∏–º—ã–µ —ç—Ç–∞–ø—ã
    // 1) –∫–∞–∫ –∏ –ø—Ä–æ—à–ª—ã–π —Ä–∞–∑ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º —à–µ—Å—Ç—å –±–∏—Ç–æ–≤ —Å –∫–æ–Ω—Ü–∞ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π
    //    —Ç—Ä–µ—Ç–∏–π –±–∞–π—Ç.
    // 2) –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ä–∞–∑—Ä—è–¥—ã –ø–µ—Ä–µ–º–µ—â–∞–µ–º –≤–ø—Ä–∞–≤–æ –Ω–∞ —ç—Ç–∏ —à–µ—Å—Ç—å –±–∏—Ç
    //    –∏ –ø–∏—à–µ–º –≤–æ –≤—Ç–æ—Ä–æ–π –±–∞–π—Ç (000010)
    // 3) —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –Ω–µ —É–º–µ—â–∞—é—Ç—Å—è –≤ —à–µ—Å—Ç—å –±–∏—Ç –≤—Ç–æ—Ä–æ–≥–æ –±–∞–π—Ç–∞. –û—Å—Ç–∞–ª—Å—è —Ö–≤–æ—Å—Ç
    //    –≤ –¥–≤–∞ –±–∏—Ç–∞ (10). –¢–æ –º—ã —Å–Ω–æ–≤–∞ –¥–≤–∏–≥–∞–µ–º –∏—Ö –µ—â—ë –¥–∞–ª—å—à–µ. –£–∂–µ –Ω–∞ 12 –±–∏—Ç.
    //    –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Ö–≤–æ—Å—Ç –≤ –ø–µ—Ä–≤—ã–π –±–∞–π—Ç


    // –î–ª—è —Å–∏–º–≤–æ–ª–∞ –±–æ–ª—å—à–µ —Ç—Ä—ë—Ö –±–∞–π—Ç –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ.
    // –ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
    // –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
    //                     1  00000011  01001000 - 66376 - 1 03 48 'êçà'
    //    1-—ã–π –±–∞–π—Ç 2-–æ–π –±–∞–π—Ç 3-–∏–π –±–∞–π—Ç 4-—ã–π –±–∞–π—Ç
    //    11110     10        10        10
    //
    //    11110000  10010000  10001101  10001000 - F0 90 8D 88
    //
    //                     1  11110101  01110100 - 128372 - 1 F5 74 'üï¥'
    //    11110     10        10        10
    //    11110     10 11111  10        10
    //    11110000  10011111  10010101  10110100 - F0 9F 95 B4


    if (wch < 0x80) // –í—ã—è—Å–Ω—è–µ–º —Å–∫–æ–ª—å–∫–æ –∑–∞–Ω–∏–º–∞–µ—Ç –±–∏—Ç —Å–∏–º–≤–æ–ª
        byte1 = wch; // –î–ª—è –æ–¥–Ω–æ–±–∞–π—Ç–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ (–º–µ–Ω—å—à–µ –≤–æ—Å—å–º–∏ –±–∏—Ç)
    else
        if (wch < 0x0800) { // –î–ª—è —Å–∏–º–≤–æ–ª–æ–≤ –º–µ–Ω—å—à–µ 16 –±–∏—Ç
            byte2 = 0x40 ^ (0xC0 | wch); // –ü—É–Ω–∫—Ç 3) –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è
            byte1 = 0xC0 | (wch >> 6);   // –ü—É–Ω–∫—Ç 4)
        }
        else
            if (wch < 0xFFFF) { // –î–ª—è —Å–∏–º–≤–æ–ª–æ–≤ –º–µ–Ω—å—à–µ 24 –±–∏—Ç
                byte3 = 0x40 ^ (0xC0 | wch); // –ü—É–Ω–∫—Ç 1)
                byte2 = 0x40 ^ (0xC0 | (wch >> 6)); // –ü—É–Ω–∫ 2)
                byte1 = 0xE0 | (wch >> 12);// –ü—É–Ω–∫—Ç 3)
            }
            else
                if (wch < 0xFFFFFF) { // –î–ª—è —Å–∏–º–≤–æ–ª–æ–≤ –º–µ–Ω—å—à–µ 32 –±–∏—Ç
                    byte4 = 0x40 ^ (0xC0 | wch);// –ü—É–Ω–∫—Ç 1)
                    byte3 = 0x40 ^ (0xC0 | (wch >>  6));// –ü—É–Ω–∫—Ç 2)
                    byte2 = 0x40 ^ (0xC0 | (wch >> 12));// –ü—É–Ω–∫—Ç 3)
                    byte1 = 0xF0 | (wch >> 24); // –î–µ–ª–∞–µ–º —Ç–∞–∫ –∂–µ –∫–∞–∫ –≤ 3)
                }
                else {
                    // –ù–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è, —á—Ç–æ-—Ç–æ –±–æ–ª—å—à–µ 32 –±–∏—Ç
                    wprintf(L"Error: encoding is too big!");
                    return EXIT_FAILURE;
                }
    // –ù–µ–±–æ–ª—å—à–æ–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å—Ç–∞–≤–∫–∞ —à–µ—Å—Ç–∏ –±–∏—Ç–æ–≤ –≤ –±–∞–π—Ç
    // byte2 = 0x40 ^ (0xC0 | wch)
    // 1100 0000 - 0xC0          1111 0101
    //     |                         ^
    // 1111 0101 - wch (F5)      0100 0000 - 0x40
    //     =                         =
    // 1111 0101                 1011 0101 - byte2 (B5)
    // –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π byte2 –±—É–¥–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–Ω–æ –º–∞—Å–∫–µ UTF-8



    // –î–ª—è –≤—ã–≤–æ–¥–∞ hex –∫–æ–¥ –≤ UTF-8
    wprintf(L"Code hex UTF-8: %X %X %X %X\n",  byte1, byte2, byte3, byte4);

    // Hex –∫–æ–¥ –≤ —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ
    wprintf(L"Code hex UTF-16: %04X\n", (int)wch);
    wprintf(L"Size: %zu Byte\n", sizeof (wch));

    return 0;
}
